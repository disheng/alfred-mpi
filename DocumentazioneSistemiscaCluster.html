<html><head><title>Documentazione cluster</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=6NUlva0wA0_-VM29T9f5GA');ol{margin:0;padding:0}.c5{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c3{color:#1155cc;text-decoration:underline}.c2{color:inherit;text-decoration:inherit}.c6{font-size:18pt}.c4{height:11pt}.c1{direction:ltr}.c0{font-family:"Ubuntu Mono"}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c5"><p class="c1"><span class="c6">Documentazione su cluster</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>E&#39; necessario installare STAR: Cluster </span><span class="c3"><a class="c2" href="http://star.mit.edu/cluster/">http://star.mit.edu/cluster/</a></span></p><p class="c1"><span>&gt; </span><span class="c0">easy_install StarCluster</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Configurare STAR:Cluster per il template di cluster ( </span><span class="c3"><a class="c2" href="http://star.mit.edu/cluster/docs/latest/manual/configuration.html#defining-cluster-templates">http://star.mit.edu/cluster/docs/latest/manual/configuration.html#defining-cluster-templates</a></span><span>&nbsp;)</span></p><p class="c1 c4"><span></span></p><p class="c1"><span class="c0">[cluster alfcluster]</span></p><p class="c1"><span class="c0">KEYNAME = alf-keys</span></p><p class="c1"><span class="c0">CLUSTER_SIZE = 3</span></p><p class="c1"><span class="c0">CLUSTER_USER = alf</span></p><p class="c1"><span class="c0">CLUSTER_SHELL = bash</span></p><p class="c1"><span class="c0">NODE_IMAGE_ID = ami-765b3e1f</span></p><p class="c1"><span class="c0">NODE_INSTANCE_TYPE = m1.medium</span></p><p class="c4 c1"><span class="c0"></span></p><p class="c4 c1"><span class="c0"></span></p><p class="c1"><span>Far partire il cluster con</span></p><p class="c1"><span>&gt; </span><span class="c0">starcluster start -c alfcluster mycluster</span></p><p class="c4 c1"><span class="c0"></span></p><p class="c1"><span>Clone repository GitHub ( </span><span class="c3"><a class="c2" href="https://github.com/furio/alfred-mpi">https://github.com/furio/alfred-mpi</a></span><span>&nbsp;)</span></p><p class="c1"><span>Entrare nella directory </span><span class="c0">runningScripts/</span></p><p class="c1"><span>Copiare i file </span><span class="c0">.sh </span><span>sul cluster con</span></p><p class="c1"><span>&gt; </span><span class="c0">starcluster put alfcluster *.sh /home/alf</span></p><p class="c4 c1"><span class="c0"></span></p><p class="c1"><span>Fare login nel cluster con</span></p><p class="c1"><span>&gt; </span><span class="c0">starcluster sshmaster alfcluster</span></p><p class="c1"><span>&gt; </span><span class="c0">cd /home/alf</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Eseguire nell&#39;ordine</span></p><p class="c1"><span>&gt; </span><span class="c0">generateMachineFile.sh $numeromacchine</span></p><p class="c1"><span>&gt; </span><span class="c0">configClusterJava.sh</span></p><p class="c1"><span>&gt; </span><span class="c0">configClusterMpj.sh alf</span></p><p class="c4 c1"><span class="c0"></span></p><p class="c1"><span>Compilare e spostare JAR / File di configurazione:</span></p><p class="c1"><span>&gt; </span><span class="c0">mvn clean compile package shade:shade</span></p><p class="c1"><span>&gt; </span><span class="c0">starcluster put alfcluster $jar_e_file_conf /home/alf</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Editare il file </span><span class="c0">runAlfredMPI.sh</span><span>&nbsp;alla voce </span><span class="c0">OMPI_SLAVES </span><span>con il numero di slave a disposizione</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Run del JAR con:</span></p><p class="c1"><span>&gt; </span><span class="c0">runAlfredMPI.sh -c configuration.properties -d domain.properties</span></p><p class="c4 c1"><span></span></p><p class="c1"><span class="c6">Documentazione su singola macchina</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>E&#39; necessario avere una macchina con Java 7</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Clone repository GitHub ( </span><span class="c3"><a class="c2" href="https://github.com/furio/alfred-mpi">https://github.com/furio/alfred-mpi</a></span><span>&nbsp;)</span></p><p class="c1"><span>Entrare nella directory </span><span class="c0">runningScripts/</span></p><p class="c1"><span>Copiare i file </span><span class="c0">.sh </span><span>nella home dell&#39;utente prescelto</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Eseguire</span></p><p class="c1"><span>&gt; </span><span class="c0">configClusterMpj.sh $UTENTE</span></p><p class="c4 c1"><span class="c0"></span></p><p class="c1"><span>Compilare e spostare JAR / File di configurazione:</span></p><p class="c1"><span>&gt; </span><span class="c0">mvn clean compile package shade:shade</span></p><p class="c1"><span>&gt; </span><span class="c0">mv $jar_e_file_conf /home/$user</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Editare il file </span><span class="c0">runAlfredMPI.sh</span><span>&nbsp;alla voce </span><span class="c0">OMPI_SLAVES </span><span>con il numero di slave richiesti</span></p><p class="c4 c1"><span></span></p><p class="c1"><span>Run del JAR con:</span></p><p class="c1"><span>&gt; </span><span class="c0">runAlfredMPI.sh -c configuration.properties -d domain.properties</span></p></body></html>